# docker/Dockerfile

# 1. Node ê¸°ë°˜ ì´ë¯¸ì§€
FROM node:18-alpine

# ğŸ› ï¸ ffmpeg ì„¤ì¹˜
RUN apk add --no-cache ffmpeg

# 2. ì‘ì—… ë””ë ‰í† ë¦¬ ìƒì„±
WORKDIR /app

# 3. package.json ë° lock íŒŒì¼ ë³µì‚¬
COPY package*.json ./

# 4. ì˜ì¡´ì„± ì„¤ì¹˜
RUN npm install

# 5. ë‚˜ë¨¸ì§€ ì†ŒìŠ¤ ë³µì‚¬
COPY . .

# 6. ë¹Œë“œ
RUN npm run build

# 7. í¬íŠ¸ ì—´ê¸°
EXPOSE 3000

# 8. ì•± ì‹¤í–‰
CMD ["node", "dist/main"]
